!function(){let e=document.querySelector("#artru-code_container"),t=e.querySelector("#drag"),n=e.querySelector("#code"),l=e.querySelector("#preview"),o=null;function i(){let t=e.querySelector("#previewFrame"),n=t.offsetWidth,l=t.offsetHeight,o=document.querySelector(".width_height");o.textContent=`${n}x${l}`}function r(){if(window.innerWidth>767){function r(t){let o=e.clientWidth,r=(t.clientX-e.getBoundingClientRect().left)/o*100;n.style.width=r+"%",l.style.width=100-r+"%",i()}function c(){e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",c),o&&(l.removeChild(o),o=null)}n.style.width="50%",l.style.width="50%",t.addEventListener("mousedown",function(t){t.preventDefault(),(o=document.createElement("div")).id="overlayPreview",l.appendChild(o),e.addEventListener("mousemove",r),e.addEventListener("mouseup",c)}),i()}else n.style.width="100%",l.style.width="100%"}r(),window.addEventListener("resize",r),ace.require("ace/ext/language_tools");var c=ace.edit("editor"),a=e.querySelector("#content"),d=e.querySelector("#previewFrame");function s(){a.value=c.getSession().getValue(),d.parentNode.removeChild(d),(d=document.createElement("iframe")).id="previewFrame",e.querySelector("#preview").appendChild(d),d.contentWindow.document.open(),d.contentWindow.document.write(a.value),d.contentWindow.document.close()}function u(){let e=ace.require("ace/ext/beautify"),t=c.getSession(),n=t.getSelection().getRange();e.beautify(t,n)}i(),c.setOptions({theme:"ace/theme/monokai",mode:"ace/mode/html",showPrintMargin:!1,useSoftTabs:!1,tabSize:3,wrap:"free",keyboardHandler:"ace/keyboard/vscode",customScrollbar:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),c.getSession().setValue(a.value),c.getSession().on("change",s),document.getElementById("run-code").addEventListener("click",s),document.getElementById("copy-code").addEventListener("click",function e(){navigator.clipboard.writeText(a.value).then(function(){alert("Code Copied !!!")}).catch(function(e){console.error("Code Copy error:",e)})}),c.commands.addCommand({name:"beautify",bindKey:{win:"Shift-Tab",mac:"Shift-Tab"},exec:function(){u()},readOnly:!0}),document.getElementById("beautify-code").addEventListener("click",u),document.getElementById("f1-button").addEventListener("click",function(){c.execCommand("openCommandPallete"),setTimeout(function(){let t=document.querySelector("div:has(.ace_prompt_container)");document.fullscreenElement&&e.appendChild(t)},100)}),document.getElementById("ctrl-setting-button").addEventListener("click",function(){c.execCommand("showSettingsMenu"),setTimeout(function(){let t=document.querySelector("div:has(#ace_settingsmenu)");document.fullscreenElement&&e.appendChild(t)},100)});let m=document.querySelector("#artru-code_container #fullscreen img[expand]"),h=document.querySelector("#artru-code_container #fullscreen img[collapse]");document.getElementById("fullscreen").addEventListener("click",function t(){document.fullscreenElement?(document.exitFullscreen(),m.style.display="block",h.style.display="none"):(e.requestFullscreen(),m.style.display="none",h.style.display="block")}),document.addEventListener("fullscreenchange",function e(){document.fullscreenElement?(m.style.display="none",h.style.display="block"):(m.style.display="block",h.style.display="none")}),document.getElementById("create-link-code")&&document.getElementById("create-link-code").addEventListener("click",function e(){let t=new TextEncoder,n=btoa(String.fromCharCode.apply(null,t.encode(a.value)));fetch("https://tinyurl.com/api-create.php?url="+(window.location.href.split(/[?#]/)[0]+"?--Start--")+n+"--End--").then(e=>{if(!e.ok)throw Error(`Error ${e.status}: Unable to create link`);return e.text()}).then(e=>{let t=e.split("/").pop(),n=window.location.origin+window.location.pathname+"#ARTRUlinkcode="+t;navigator.clipboard.writeText(n).then(function(){prompt("Link Code Created !!!\n",n)})}).catch(function(e){alert(e.message||"An unknown error occurred.")})}),window.location.pathname.endsWith("/artru-code/")&&(window.location.hash.includes("#ARTRUlinkcode=")?!function e(t){fetch("https://shorturl.artru.net/?shortUrl="+encodeURIComponent(t)).then(e=>e.text()).then(e=>{let t=e,n="--Start--",l=t.indexOf(n),o=t.indexOf("--End--");if(-1!==l&&-1!==o&&l<o){let i=t.slice(l+n.length,o),r=new TextDecoder().decode(new Uint8Array([...atob(i)].map(e=>e.charCodeAt(0))));c.getSession().setValue(r),u()}})}("https://tinyurl.com/"+new URLSearchParams(window.location.hash.slice(1)).get("ARTRUlinkcode")):c.getSession().setValue(`<!DOCTYPE html>
<html>
<head>
<title></title>
</head>
<body>
<!-- HTML -->
<h1>YOUCODE</h1>


<!-- CSS -->
<style type="text/css" media="all">

</style>


<!-- JAVASCRIPT -->
<script type="text/javascript" charset="utf-8">

</script>
</body>
</html>`)),window.addEventListener("load",u)}();
